<html><head></head>
<body><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">[root@k8s-registry compose_nginx_tomcat]# cat docker-compose.yml</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">version: '3'</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">services:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; nginx:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; hostname: nginx</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; build:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; context: ./nginx</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; dockerfile: Dockerfile</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; ports:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - 80:80</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; links:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - tomcat01:tomcat01</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - tomcat02:tomcat02</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - tomcat03:tomcat03</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; volumes:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 0);"><b> - ./webapps:/opt/webapps</b></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; depends_on:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - mysql</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - tomcat01</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - tomcat02</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - tomcat03</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; tomcat01:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; hostname: tomcat01</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; build: ./tomcat</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; links:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - mysql:mysql-db</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; volumes:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - ./webapps:/usr/local/apache-tomcat-8.0.46/webapps</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; tomcat02:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; hostname: tomcat02</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; build: ./tomcat</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; links:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - mysql:mysql-db</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; volumes:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - ./webapps:/usr/local/apache-tomcat-8.0.46/webapps</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; tomcat03:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; hostname: tomcat03</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; build: ./tomcat</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; links:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - mysql:mysql-db</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; volumes:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - ./webapps:/usr/local/apache-tomcat-8.0.46/webapps</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; mysql:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; hostname: mysql</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; image: mysql:5.6</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; ports:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - 3306:3306</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; volumes:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - ./mysql/conf:/etc/mysql/conf.d</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; - ./mysql/data:/var/lib/mysql</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; environment:</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; MYSQL_ROOT_PASSWORD: 123456</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; MYSQL_DATABASE: db</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; MYSQL_USER: user</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; MYSQL_PASSWORD: user123</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">[root@k8s-registry compose_nginx_tomcat]#&nbsp;</span></div>

</body></html>